<!DOCTYPE html>
<html>
  <head>
    <title>Spherical Star Map</title>
    <style>
      canvas {
        background-color: #000033;
      }
    </style>
  </head>
  <body>
    <canvas id="starmap" width="800" height="600"></canvas>
    <script src="sphr.js"></script>
    <script>
      const canvas = document.getElementById("starmap");
      const starMap = new SphericalStarMap(canvas, {
        latitude: 0, // Equator
        longitude: 0,
        datetime: new Date(),
        viewAzimuth: 20, // Looking North
        viewAltitude: 90, // Looking at horizon
        fov: 90,
      });

      starMap.drawCelestialGrid();

      // Plot some stars
      //   starMap.plotStar(5.919, 7.407, 0.85); // Betelgeuse
      //   starMap.plotStar(6.752, -16.716, -1.46); // Sirius

      // Add interactive controls
      canvas.addEventListener("mousemove", (e) => {
        if (e.buttons === 1) {
          starMap.viewAzimuth = (starMap.viewAzimuth + e.movementX * 0.5) % 360;
          starMap.viewAltitude = Math.max(
            -90,
            Math.min(90, starMap.viewAltitude - e.movementY * 0.5)
          );

          // Redraw
          starMap.ctx.clearRect(0, 0, canvas.width, canvas.height);
          starMap.drawCelestialGrid();
          // Replot stars...
        }
      });
    </script>
  </body>
</html>
